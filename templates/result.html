<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name }}æ§˜ã®å æ˜ŸåŒ»å­¦é‘‘å®šçµæœ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="stars"></div>
    <div class="container">
        <!-- ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="result-header">
            <div class="welcome-message">
                <h1 class="result-title">
                    <span class="star-icon">âœ¦</span>
                    {{ name }}æ§˜ã®å æ˜ŸåŒ»å­¦é‘‘å®šçµæœ
                    <span class="star-icon">âœ¦</span>
                </h1>
                <p class="result-subtitle">
                    å®‡å®™ãŒã‚ãªãŸã«ä¸ãˆãŸç‰¹åˆ¥ãªä½“è³ªã¨å¥åº·ã®å¡æ™º
                </p>
            </div>
            
            <div class="birth-info">
                <p class="birth-datetime">
                    <span class="icon">ğŸ“…</span>
                    {{ info.jst_datetime }}ç”Ÿã¾ã‚Œ
                </p>
                <p class="birth-location">
                    <span class="icon">ğŸ“</span>
                    {{ info.location }}
                </p>
            </div>
        </header>

        <!-- 16åŸå‹è¨ºæ–­çµæœ -->
        <section class="archetype-section">
            <h2 class="section-title">ã‚ãªãŸã®å®‡å®™çš„åŸå‹</h2>
            <div class="archetype-card">
                <div class="archetype-name">
                    {{ info.archetype.name }}
                </div>
                <div class="archetype-details">
                    <div class="detail-item">
                        <span class="detail-label">å…ƒç´ ã®çµ„ã¿åˆã‚ã›</span>
                        <span class="detail-value">{{ info.archetype.element_combination }}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">æ°—è³ª</span>
                        <span class="detail-value">{{ info.archetype.temperament }}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ä½“è³ªã‚¿ã‚¤ãƒ—</span>
                        <span class="detail-value">{{ info.archetype.body_type }}</span>
                    </div>
                </div>
                <div class="archetype-message">
                    <p>{{ name }}æ§˜ã¯ã€{{ info.archetype.name }}ã®ã‚¿ã‚¤ãƒ—ã§ã™ã€‚</p>
                    <p>ã“ã®åŸå‹ã¯ã€{{ info.archetype.temperament }}ãªæ€§è³ªã‚’æŒã¡ã€{{ info.archetype.body_type }}ã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚</p>
                </div>
            </div>
        </section>

        <!-- å¤©ä½“ä½ç½®ã®è©³ç´° -->
        <section class="celestial-section">
            <h2 class="section-title">å‡ºç”Ÿæ™‚ã®å¤©ä½“é…ç½®</h2>
            <div class="celestial-grid">
                {% for planet_name, planet_data in data.items() %}
                <div class="planet-card" data-element="{{ planet_data.element }}">
                    <div class="planet-header">
                        <span class="planet-symbol">
                            {% if planet_name == 'å¤ªé™½' %}â˜‰
                            {% elif planet_name == 'æœˆ' %}â˜½
                            {% elif planet_name == 'æ°´æ˜Ÿ' %}â˜¿
                            {% elif planet_name == 'é‡‘æ˜Ÿ' %}â™€
                            {% elif planet_name == 'ç«æ˜Ÿ' %}â™‚
                            {% elif planet_name == 'æœ¨æ˜Ÿ' %}â™ƒ
                            {% elif planet_name == 'åœŸæ˜Ÿ' %}â™„
                            {% else %}â—¯
                            {% endif %}
                        </span>
                        <h3 class="planet-name">{{ planet_name }}</h3>
                    </div>
                    <div class="planet-info">
                        <div class="zodiac-position">
                            <span class="zodiac-name">{{ planet_data.zodiac }}</span>
                            <span class="zodiac-degree">{{ planet_data.degrees }}Â°{{ planet_data.minutes }}'</span>
                        </div>
                        <div class="element-badge element-{{ planet_data.element }}">
                            {{ planet_data.element }}ã®å…ƒç´ 
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>



        <!-- ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºãƒœã‚¿ãƒ³ -->
        <section class="report-links">
            <div class="single-report-button">
                <a href="/basic_report?name={{ name|urlencode }}&archetype={{ info.archetype.name|urlencode }}" 
                   class="report-btn main-report-btn">
                    <span class="btn-icon">ğŸ“‹</span>
                    <span class="btn-text">ASTRO BODY TYPE REPORT</span>
                    <span class="btn-description">ä½“è³ªã®åŸºæœ¬çš„ãªç‰¹å¾´ã¨å¥åº·æŒ‡é‡</span>
                </a>
            </div>
        </section>
    </div>

    <script>
        // ã‚·ã‚§ã‚¢æ©Ÿèƒ½
        function shareResult() {
            const text = `{{ name }}æ§˜ã®å æ˜ŸåŒ»å­¦é‘‘å®šçµæœï¼š{{ info.archetype.name }}ã‚¿ã‚¤ãƒ—ã¨åˆ¤å®šã•ã‚Œã¾ã—ãŸã€‚`;
            const url = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: 'å æ˜ŸåŒ»å­¦é‘‘å®šçµæœ',
                    text: text,
                    url: url
                }).catch(err => console.log('ã‚·ã‚§ã‚¢ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸ'));
            } else {
                // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼šURLã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼
                navigator.clipboard.writeText(url).then(() => {
                    alert('URLãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸ');
                });
            }
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.planet-card, .advice-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('fade-in');
                }, index * 100);
            });
        });
    </script>
</body>
</html>