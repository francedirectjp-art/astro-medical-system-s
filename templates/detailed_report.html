<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ name }}æ§˜ã®ASTRO-BODY TYPE REPORT - è©³ç´°é‘‘å®šæ›¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* ãƒªã‚»ãƒƒãƒˆã¨åŸºæœ¬è¨­å®š */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #8e44ad;
            --accent-color: #d4af37;
            --text-dark: #2c3e50;
            --text-light: #5a6c7d;
            --bg-light: #f8f9fa;
            --bg-white: #ffffff;
            --border-color: #e0e0e0;
        }

        body {
            font-family: 'Noto Serif JP', serif;
            line-height: 1.8;
            color: var(--text-dark);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .report-container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-white);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .report-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 60px 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .report-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .report-title {
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .report-subtitle {
            font-size: 1.2em;
            font-weight: 300;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .personal-name {
            font-size: 1.5em;
            margin: 20px 0;
            padding: 15px 30px;
            background: rgba(255,255,255,0.15);
            border-radius: 50px;
            display: inline-block;
            backdrop-filter: blur(10px);
        }

        /* ã‚µãƒãƒªãƒ¼ã‚·ãƒ¼ãƒˆ */
        .summary-sheet {
            background: var(--bg-light);
            padding: 50px;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .summary-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        }

        .summary-card-title {
            font-size: 0.9em;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .summary-card-content {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary-color);
        }

        .archetype-badge {
            background: linear-gradient(135deg, var(--accent-color), #ffd700);
            color: var(--primary-color);
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 700;
            display: inline-block;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        /* ç« ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .chapter-section {
            padding: 60px 50px;
            border-bottom: 1px solid var(--border-color);
        }

        .chapter-section:last-child {
            border-bottom: none;
        }

        .chapter-number {
            color: var(--secondary-color);
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .chapter-title {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid var(--accent-color);
        }

        .chapter-content {
            font-size: 1.1em;
            line-height: 1.9;
            color: var(--text-dark);
        }

        .chapter-content p {
            margin-bottom: 20px;
            text-align: justify;
        }

        /* ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .subsection {
            margin: 40px 0;
        }

        .subsection-title {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--secondary-color);
            margin-bottom: 20px;
            padding-left: 20px;
            border-left: 4px solid var(--accent-color);
        }

        /* å¤©ä½“åˆ†æã‚«ãƒ¼ãƒ‰ */
        .planet-card {
            background: linear-gradient(135deg, var(--bg-light), white);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .planet-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .planet-symbol {
            font-size: 2em;
            margin-right: 20px;
            color: var(--secondary-color);
        }

        .planet-name {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary-color);
        }

        .planet-degree {
            color: var(--text-light);
            margin-left: 10px;
        }

        /* å‡¦æ–¹ç®‹ãƒœãƒƒã‚¯ã‚¹ */
        .prescription-box {
            background: linear-gradient(135deg, #f6f9fc, #ffffff);
            border: 2px solid var(--accent-color);
            border-radius: 20px;
            padding: 35px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
        }

        .prescription-box::before {
            content: 'â„';
            position: absolute;
            top: -20px;
            right: 20px;
            font-size: 100px;
            color: rgba(212, 175, 55, 0.1);
            font-weight: 700;
        }

        .prescription-title {
            font-size: 1.4em;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .prescription-number {
            background: var(--accent-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 700;
        }

        .prescription-content {
            padding-left: 55px;
        }

        .prescription-goal {
            background: rgba(212, 175, 55, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--accent-color);
        }

        /* ãƒ‡ã‚¤ãƒªãƒ¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ */
        .daily-routine {
            background: var(--bg-light);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }

        .routine-timeline {
            display: grid;
            gap: 20px;
        }

        .routine-item {
            display: grid;
            grid-template-columns: 150px 1fr;
            gap: 20px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .routine-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .routine-time {
            font-weight: 700;
            color: var(--secondary-color);
        }

        .routine-content {
            color: var(--text-dark);
        }

        /* å››å…ƒç´ ã‚°ãƒ©ãƒ• */
        .elements-chart {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .element-bar {
            text-align: center;
        }

        .element-name {
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .element-progress {
            background: var(--bg-light);
            height: 150px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .element-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: linear-gradient(to top, var(--accent-color), #ffd700);
            transition: height 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        .report-footer {
            background: var(--primary-color);
            color: white;
            padding: 40px 50px;
            text-align: center;
        }

        .footer-message {
            font-size: 1.2em;
            line-height: 1.8;
            opacity: 0.95;
        }

        /* å°åˆ·ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .report-container {
                box-shadow: none;
                border-radius: 0;
            }

            .chapter-section {
                page-break-inside: avoid;
            }

            .prescription-box {
                page-break-inside: avoid;
            }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .report-header {
                padding: 40px 30px;
            }

            .report-title {
                font-size: 2em;
            }

            .chapter-section {
                padding: 40px 30px;
            }

            .summary-grid {
                grid-template-columns: 1fr;
            }

            .elements-chart {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="report-container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="report-header">
            <h1 class="report-title">ASTRO-BODY TYPE REPORT</h1>
            <div class="personal-name">è©³ç´°é‘‘å®šæ›¸</div>
            <p class="report-subtitle">ä¼çµ±çš„å æ˜Ÿè¡“ã«åŸºã¥ãåŒ…æ‹¬çš„ä½“è³ªåˆ†æ</p>
        </header>

        <!-- PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ -->
        <div style="text-align: center; margin: 30px 0; position: sticky; top: 20px; z-index: 1000;">
            <a href="/pdf_download?name={{ name|urlencode }}&archetype={{ archetype.name|urlencode }}" 
               class="pdf-download-btn" 
               target="_blank"
               style="display: inline-flex; align-items: center; gap: 10px; background: linear-gradient(135deg, #d4af37, #ffd700); color: #2c3e50; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 1.1em; box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); transition: all 0.3s ease; border: none; cursor: pointer;">
                <span style="font-size: 1.2em;">ğŸ“„</span>
                <span>PDFã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</span>
            </a>
        </div>

        <!-- ã‚µãƒãƒªãƒ¼ã‚·ãƒ¼ãƒˆ -->
        <section class="summary-sheet">
            <div class="archetype-badge">
                âœ¦ {{ archetype.name }} ({{ archetype.name_en }}) âœ¦
            </div>
            <p style="text-align: center; font-size: 1.2em; color: var(--text-light); margin: 20px 0;">
                {{ archetype.tagline }}
            </p>
            
            <div class="summary-grid">
                <div class="summary-card">
                    <div class="summary-card-title">å¤ªé™½æ˜Ÿåº§</div>
                    <div class="summary-card-content">{{ celestial_data.sun.sign }}</div>
                </div>
                <div class="summary-card">
                    <div class="summary-card-title">æœˆæ˜Ÿåº§</div>
                    <div class="summary-card-content">{{ celestial_data.moon.sign }}</div>
                </div>
                <div class="summary-card">
                    <div class="summary-card-title">å…ƒç´ çµ„ã¿åˆã‚ã›</div>
                    <div class="summary-card-content">{{ archetype.element_combination }}</div>
                </div>
                <div class="summary-card">
                    <div class="summary-card-title">æ°—è³ª</div>
                    <div class="summary-card-content">{{ archetype.temperament }}</div>
                </div>
            </div>
        </section>

        <!-- ç¬¬1ç«  -->
        <section class="chapter-section">
            <div class="chapter-number">ç¬¬1ç« </div>
            <h2 class="chapter-title">
                {{ celestial_data.sun.sign }}Ã—{{ celestial_data.moon.sign }}ãŒç¹”ã‚Šãªã™ã€Œ{{ archetype.name }}ã€ã®ä¸–ç•Œ
            </h2>
            
            <div class="chapter-content">
                <p>
                    {{ name }}æ§˜ã€ã‚ãªãŸã®é­‚ã®é’å†™çœŸã¯ã€å¤ªé™½{{ celestial_data.sun.sign }}ã¨æœˆ{{ celestial_data.moon.sign }}ã¨ã„ã†
                    {{ archetype.element_combination }}ã®çµ„ã¿åˆã‚ã›ãŒå‰µã‚Šå‡ºã™ã€æ¥µã‚ã¦ç‰¹åˆ¥ãªæ§‹é€ ã‚’æŒã£ã¦ã„ã¾ã™ã€‚
                    ã“ã®é…ç½®ã¯ã€16ã®é­‚ã®å…ƒå‹ã®ä¸­ã§ã‚‚ã€Œ{{ archetype.name }}ã€ã¨ã—ã¦åˆ†é¡ã•ã‚Œã€
                    {{ archetype.core }}
                </p>

                <div class="subsection">
                    <h3 class="subsection-title">å¤ªé™½{{ celestial_data.sun.sign }}ã®æ ¸å¿ƒçš„æ‰èƒ½</h3>
                    <p>
                        å¤ªé™½ãŒ{{ celestial_data.sun.sign }}ã«ä½ç½®ã™ã‚‹ã¨ã„ã†ã“ã¨ã¯ã€ã‚ãªãŸã®äººç”Ÿã®ä¸­æ ¸çš„ãªç›®çš„ãŒ
                        {{ celestial_data.sun.element }}ã®å…ƒç´ ã®ç‰¹è³ªã§ã‚ã‚‹
                        {% if celestial_data.sun.element == 'ç«' %}æƒ…ç†±ã€å‰µé€ æ€§ã€ãã—ã¦è¡Œå‹•åŠ›
                        {% elif celestial_data.sun.element == 'åœ°' %}å®‰å®šæ€§ã€å®Ÿè·µåŠ›ã€ãã—ã¦æŒç¶šæ€§
                        {% elif celestial_data.sun.element == 'é¢¨' %}çŸ¥æ€§ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãã—ã¦æŸ”è»Ÿæ€§
                        {% else %}æ„Ÿå—æ€§ã€ç›´æ„ŸåŠ›ã€ãã—ã¦å…±æ„ŸåŠ›
                        {% endif %}ã«æ·±ãæ ¹ã–ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                    </p>
                    <p>
                        ç‰¹ã«{{ celestial_data.sun.sign }}ã®{{ "%.1f"|format(celestial_data.sun.degree) }}åº¦ã¨ã„ã†ä½ç½®ã¯ã€
                        ã“ã®æ˜Ÿåº§ã®
                        {% if celestial_data.sun.degree < 10 %}åˆæœŸæ®µéšã«ã‚ã‚Šã€ç´”ç²‹ã§æœªé–‹æ‹“ãªã‚¨ãƒãƒ«ã‚®ãƒ¼
                        {% elif celestial_data.sun.degree < 20 %}ä¸­æœŸæ®µéšã«ã‚ã‚Šã€ãƒãƒ©ãƒ³ã‚¹ã¨ç™ºå±•ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼
                        {% else %}å¾ŒæœŸæ®µéšã«ã‚ã‚Šã€æˆç†Ÿã¨çµ±åˆã®ã‚¨ãƒãƒ«ã‚®ãƒ¼
                        {% endif %}ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                        ã“ã‚Œã¯ã€ã‚ãªãŸãŒäººç”Ÿã«ãŠã„ã¦è¿½æ±‚ã™ã¹ãæ–¹å‘æ€§ã¨ã€ç™ºæ®ã™ã¹ãæ‰èƒ½ã®è³ªã‚’æ˜ç¢ºã«ç¤ºã—ã¦ã„ã‚‹ã®ã§ã™ã€‚
                    </p>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">æœˆ{{ celestial_data.moon.sign }}ã®æ„Ÿæƒ…çš„åŸºç›¤</h3>
                    <p>
                        æœˆãŒ{{ celestial_data.moon.sign }}ã«ä½ç½®ã™ã‚‹ã“ã¨ã¯ã€ã‚ãªãŸã®æ„Ÿæƒ…ä¸–ç•Œã¨ç„¡æ„è­˜ã®åå¿œãƒ‘ã‚¿ãƒ¼ãƒ³ãŒ
                        {{ celestial_data.moon.element }}ã®å…ƒç´ ã®å½±éŸ¿ã‚’å¼·ãå—ã‘ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
                        {% if celestial_data.moon.element == 'ç«' %}
                        ã‚ãªãŸã®æ„Ÿæƒ…ã¯ç¬ç™ºçš„ã§æƒ…ç†±çš„ã§ã‚ã‚Šã€ç›´æ„Ÿçš„ãªåå¿œã¨å³åº§ã®è¡Œå‹•ã‚’å¥½ã‚€å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                        {% elif celestial_data.moon.element == 'åœ°' %}
                        ã‚ãªãŸã®æ„Ÿæƒ…ã¯å®‰å®šã—ã¦ãŠã‚Šã€å®Ÿéš›çš„ãªãƒ‹ãƒ¼ã‚ºã¨ç‰©è³ªçš„ãªå®‰å¿ƒæ„Ÿã‚’é‡è¦–ã™ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                        {% elif celestial_data.moon.element == 'é¢¨' %}
                        ã‚ãªãŸã®æ„Ÿæƒ…ã¯ç†æ€§çš„ã§å®¢è¦³çš„ã§ã‚ã‚Šã€çŸ¥çš„ãªç†è§£ã¨ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€šã˜ã¦å‡¦ç†ã•ã‚Œã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                        {% else %}
                        ã‚ãªãŸã®æ„Ÿæƒ…ã¯æ·±ãæµå‹•çš„ã§ã‚ã‚Šã€å…±æ„Ÿã¨ç›´æ„Ÿã‚’é€šã˜ã¦ä¸–ç•Œã¨ç¹‹ãŒã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚
                        {% endif %}
                    </p>
                    <p>
                        æœˆãŒ{{ "%.1f"|format(celestial_data.moon.degree) }}åº¦ã«ä½ç½®ã™ã‚‹ã“ã¨ã¯ã€
                        æ„Ÿæƒ…çš„ãªæˆç†Ÿåº¦ã«ãŠã„ã¦
                        {% if celestial_data.moon.degree < 10 %}æ–°é®®ã§ç´”ç²‹ãªæ®µéš
                        {% elif celestial_data.moon.degree < 20 %}ç™ºå±•ã¨èª¿æ•´ã®æ®µéš
                        {% else %}å®Œæˆã¨æ´—ç·´ã®æ®µéš
                        {% endif %}ã«ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ãŠã‚Šã€
                        ã“ã‚ŒãŒã‚ãªãŸã®å†…é¢ä¸–ç•Œã®è±Šã‹ã•ã¨ã€ä»–è€…ã¨ã®æ„Ÿæƒ…çš„ãªç¹‹ãŒã‚Šæ–¹ã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã¦ã„ã¾ã™ã€‚
                    </p>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">{{ archetype.element_combination }}ã®ç´”ç²‹ãªèåˆ</h3>
                    <p>
                        {{ name }}æ§˜ã®{{ archetype.element_combination }}ã¨ã„ã†çµ„ã¿åˆã‚ã›ã¯ã€
                        è‡ªç„¶ç•Œã«ãŠã‘ã‚‹æœ€ã‚‚{{ archetype.temperament }}ãªæ¡ä»¶ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚
                        ã“ã®å…ƒç´ ã®çµ„ã¿åˆã‚ã›ãŒç”Ÿã¿å‡ºã™ç‹¬ç‰¹ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€
                        ã‚ãªãŸã®äººæ ¼æ§‹é€ ã®æ ¹æœ¬ã‚’å½¢æˆã—ã€äººç”Ÿã«ãŠã‘ã‚‹ä¸»è¦ãªãƒ†ãƒ¼ãƒã‚’æ±ºå®šã¥ã‘ã¦ã„ã¾ã™ã€‚
                    </p>
                    <p>
                        {{ archetype.talents }}
                        ã“ã‚Œã‚‰ã®æ‰èƒ½ã¯ã€é©åˆ‡ã«ç†è§£ã—æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ãªãŸã®äººç”Ÿã«å¤§ããªå……å®Ÿæ„Ÿã¨æˆåŠŸã‚’ã‚‚ãŸã‚‰ã™ã§ã—ã‚‡ã†ã€‚
                    </p>
                    <p>
                        ä¸€æ–¹ã§ã€æˆé•·ã¸ã®èª²é¡Œã‚‚ã‚ã‚Šã¾ã™ã€‚
                        {{ archetype.challenges }}
                        ã“ã‚Œã‚‰ã®èª²é¡Œã«æ„è­˜çš„ã«å–ã‚Šçµ„ã‚€ã“ã¨ã§ã€ã‚ˆã‚Šçµ±åˆã•ã‚ŒãŸã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸäººæ ¼ã¸ã¨æˆé•·ã—ã¦ã„ãã“ã¨ãŒã§ãã¾ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- ç¬¬2ç«  -->
        <section class="chapter-section">
            <div class="chapter-number">ç¬¬2ç« </div>
            <h2 class="chapter-title">å¤©ä½“é…ç½®ãŒæ˜ã‹ã™å¤šå±¤çš„ãªæ‰èƒ½æ§‹é€ </h2>
            
            <div class="chapter-content">
                <p>
                    {{ name }}æ§˜ã®é­‚ã®è©•è­°ä¼šã‚’æ§‹æˆã™ã‚‹7ã¤ã®å¤©ä½“ã¯ã€ãã‚Œãã‚ŒãŒç‹¬è‡ªã®å½¹å‰²ã‚’æŒã¡ã€
                    ã‚ãªãŸã®äººæ ¼ã®å¤šé¢æ€§ã¨èº«ä½“çš„ç‰¹è³ªã‚’å½¢æˆã—ã¦ã„ã¾ã™ã€‚
                    å¤ªé™½ã¨æœˆãŒåŸºæœ¬çš„ãªæ çµ„ã¿ã‚’æä¾›ã™ã‚‹ä¸€æ–¹ã§ã€ä»–ã®5ã¤ã®å¤©ä½“ã¯ã€
                    ã‚ˆã‚Šå…·ä½“çš„ãªæ‰èƒ½ã¨èª²é¡Œã€ãã—ã¦èº«ä½“çš„ãªå‚¾å‘ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                </p>

                <!-- æ°´æ˜Ÿ -->
                <div class="planet-card">
                    <div class="planet-header">
                        <span class="planet-symbol">â˜¿</span>
                        <span class="planet-name">æ°´æ˜Ÿ</span>
                        <span class="planet-degree">{{ celestial_data.mercury.sign }} {{ "%.1f"|format(celestial_data.mercury.degree) }}åº¦</span>
                    </div>
                    <div class="subsection">
                        <h4 style="color: var(--secondary-color); margin-bottom: 15px;">çŸ¥çš„èƒ½åŠ›ã®ç‰¹å¾´</h4>
                        <p>
                            æ°´æ˜ŸãŒ{{ celestial_data.mercury.sign }}ã«ä½ç½®ã™ã‚‹ã“ã¨ã¯ã€ã‚ãªãŸã®æ€è€ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã¨è¡¨ç¾èƒ½åŠ›ãŒ
                            {{ celestial_data.mercury.element }}ã®å…ƒç´ ã®å½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                            {% if celestial_data.mercury.element == 'ç«' %}
                            ç›´æ„Ÿçš„ã§ç´ æ—©ã„æ€è€ƒã€ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã€æƒ…ç†±çš„ãªè¡¨ç¾åŠ›ãŒç‰¹å¾´ã§ã™ã€‚
                            {% elif celestial_data.mercury.element == 'åœ°' %}
                            å®Ÿè·µçš„ã§è©³ç´°ãªåˆ†æåŠ›ã€ç€å®Ÿãªå­¦ç¿’èƒ½åŠ›ã€å…·ä½“çš„ãªè¡¨ç¾åŠ›ãŒç‰¹å¾´ã§ã™ã€‚
                            {% elif celestial_data.mercury.element == 'é¢¨' %}
                            è«–ç†çš„ã§å¤šè§’çš„ãªè¦–ç‚¹ã€å„ªã‚ŒãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã€æŸ”è»Ÿãªæ€è€ƒãŒç‰¹å¾´ã§ã™ã€‚
                            {% else %}
                            æ„Ÿæƒ…çš„ã§æƒ³åƒåŠ›è±Šã‹ãªæ€è€ƒã€è©©çš„ãªè¡¨ç¾åŠ›ã€æ·±ã„æ´å¯ŸåŠ›ãŒç‰¹å¾´ã§ã™ã€‚
                            {% endif %}
                        </p>
                        <h4 style="color: var(--secondary-color); margin: 15px 0;">èº«ä½“ã¸ã®å½±éŸ¿</h4>
                        <p>
                            æ°´æ˜Ÿã¯ç¥çµŒç³»ã€å‘¼å¸å™¨ç³»ã€æ‰‹ã¨è…•ã‚’æ”¯é…ã—ã¾ã™ã€‚
                            {{ celestial_data.mercury.sign }}ã®æ°´æ˜Ÿã¯ã€ç‰¹ã«
                            {% if celestial_data.mercury.element == 'ç«' %}ç¥çµŒã®èˆˆå¥®ã—ã‚„ã™ã•ã¨ç´ æ—©ã„åå°„
                            {% elif celestial_data.mercury.element == 'åœ°' %}å®‰å®šã—ãŸç¥çµŒç³»ã¨æŒç¶šçš„ãªé›†ä¸­åŠ›
                            {% elif celestial_data.mercury.element == 'é¢¨' %}æ´»ç™ºãªç¥çµŒæ´»å‹•ã¨å‘¼å¸ã®æµ…ã•
                            {% else %}æ•æ„Ÿãªç¥çµŒç³»ã¨æ„Ÿæƒ…ã«ã‚ˆã‚‹å½±éŸ¿
                            {% endif %}ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                        </p>
                    </div>
                </div>

                <!-- é‡‘æ˜Ÿ -->
                <div class="planet-card">
                    <div class="planet-header">
                        <span class="planet-symbol">â™€</span>
                        <span class="planet-name">é‡‘æ˜Ÿ</span>
                        <span class="planet-degree">{{ celestial_data.venus.sign }} {{ "%.1f"|format(celestial_data.venus.degree) }}åº¦</span>
                    </div>
                    <div class="subsection">
                        <h4 style="color: var(--secondary-color); margin-bottom: 15px;">æ„›ã¨ç¾ã®è¡¨ç¾</h4>
                        <p>
                            é‡‘æ˜ŸãŒ{{ celestial_data.venus.sign }}ã«ã‚ã‚‹ã“ã¨ã¯ã€ã‚ãªãŸã®æ„›æƒ…è¡¨ç¾ã¨ç¾çš„æ„Ÿè¦šãŒ
                            {{ celestial_data.venus.element }}ã®å…ƒç´ ã®ç‰¹è³ªã‚’å¸¯ã³ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                            {% if celestial_data.venus.element == 'ç«' %}
                            æƒ…ç†±çš„ã§å†’é™ºçš„ãªæ„›æƒ…è¡¨ç¾ã€å¤§èƒ†ãªç¾çš„æ„Ÿè¦šã€åˆºæ¿€çš„ãªé–¢ä¿‚æ€§ã‚’å¥½ã¿ã¾ã™ã€‚
                            {% elif celestial_data.venus.element == 'åœ°' %}
                            å®‰å®šã—ãŸå®Ÿéš›çš„ãªæ„›æƒ…è¡¨ç¾ã€ä¼çµ±çš„ãªç¾çš„æ„Ÿè¦šã€é•·æœŸçš„ãªé–¢ä¿‚æ€§ã‚’é‡è¦–ã—ã¾ã™ã€‚
                            {% elif celestial_data.venus.element == 'é¢¨' %}
                            çŸ¥çš„ã§ç¤¾äº¤çš„ãªæ„›æƒ…è¡¨ç¾ã€æ´—ç·´ã•ã‚ŒãŸç¾çš„æ„Ÿè¦šã€è‡ªç”±ãªé–¢ä¿‚æ€§ã‚’æ±‚ã‚ã¾ã™ã€‚
                            {% else %}
                            æ·±ã„æ„Ÿæƒ…çš„ãªæ„›æƒ…è¡¨ç¾ã€å¹»æƒ³çš„ãªç¾çš„æ„Ÿè¦šã€é­‚ãƒ¬ãƒ™ãƒ«ã®é–¢ä¿‚æ€§ã‚’æœ›ã¿ã¾ã™ã€‚
                            {% endif %}
                        </p>
                        <h4 style="color: var(--secondary-color); margin: 15px 0;">èº«ä½“ã¸ã®å½±éŸ¿</h4>
                        <p>
                            é‡‘æ˜Ÿã¯è…è‡“ã€é™è„ˆç³»ã€å–‰ã¨é¦–ã‚’æ”¯é…ã—ã¾ã™ã€‚
                            {{ celestial_data.venus.sign }}ã®é‡‘æ˜Ÿã¯ã€
                            {% if celestial_data.venus.element == 'ç«' %}ä»£è¬ã®æ´»ç™ºã•ã¨è¡€æµã®é€Ÿã•
                            {% elif celestial_data.venus.element == 'åœ°' %}å®‰å®šã—ãŸä»£è¬ã¨è‰¯å¥½ãªé™è„ˆå¾ªç’°
                            {% elif celestial_data.venus.element == 'é¢¨' %}å¤‰å‹•ã—ã‚„ã™ã„ä»£è¬ã¨å¾ªç’°
                            {% else %}æ°´åˆ†ä»£è¬ã¨æ„Ÿæƒ…ã«ã‚ˆã‚‹å½±éŸ¿
                            {% endif %}ã®ç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã€‚
                        </p>
                    </div>
                </div>

                <!-- ç«æ˜Ÿ -->
                <div class="planet-card">
                    <div class="planet-header">
                        <span class="planet-symbol">â™‚</span>
                        <span class="planet-name">ç«æ˜Ÿ</span>
                        <span class="planet-degree">{{ celestial_data.mars.sign }} {{ "%.1f"|format(celestial_data.mars.degree) }}åº¦</span>
                    </div>
                    <div class="subsection">
                        <h4 style="color: var(--secondary-color); margin-bottom: 15px;">è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ„å¿—åŠ›</h4>
                        <p>
                            ç«æ˜ŸãŒ{{ celestial_data.mars.sign }}ã«ä½ç½®ã™ã‚‹ã“ã¨ã¯ã€ã‚ãªãŸã®è¡Œå‹•åŠ›ã¨æ„å¿—ã®è¡¨ç¾ãŒ
                            {{ celestial_data.mars.element }}ã®å…ƒç´ ã®å½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                            {% if celestial_data.mars.element == 'ç«' %}
                            ç›´æ¥çš„ã§ç©æ¥µçš„ãªè¡Œå‹•ã€å¼·ã„ç«¶äº‰å¿ƒã€ç¬ç™ºçš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ç™ºæ®ãŒç‰¹å¾´ã§ã™ã€‚
                            {% elif celestial_data.mars.element == 'åœ°' %}
                            ç€å®Ÿã§æŒç¶šçš„ãªåŠªåŠ›ã€å®Ÿè·µçš„ãªè¡Œå‹•ã€é•·æœŸçš„ãªç›®æ¨™é”æˆåŠ›ãŒç‰¹å¾´ã§ã™ã€‚
                            {% elif celestial_data.mars.element == 'é¢¨' %}
                            æˆ¦ç•¥çš„ã§çŸ¥çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€æŸ”è»Ÿãªå¯¾å¿œåŠ›ã€å¤šæ–¹é¢ã¸ã®è¡Œå‹•åŠ›ãŒç‰¹å¾´ã§ã™ã€‚
                            {% else %}
                            æ„Ÿæƒ…ã«åŸºã¥ã„ãŸç›´æ„Ÿçš„ãªè¡Œå‹•ã€å®ˆè­·çš„ãªæ„å¿—ã€æ·±ã„å‹•æ©Ÿä»˜ã‘ãŒç‰¹å¾´ã§ã™ã€‚
                            {% endif %}
                        </p>
                        <h4 style="color: var(--secondary-color); margin: 15px 0;">èº«ä½“ã¸ã®å½±éŸ¿</h4>
                        <p>
                            ç«æ˜Ÿã¯ç­‹è‚‰ç³»ã€è¡€æ¶²ä¸­ã®é‰„åˆ†ã€å‰¯è…ã‚’æ”¯é…ã—ã¾ã™ã€‚
                            {{ celestial_data.mars.sign }}ã®ç«æ˜Ÿã¯ã€
                            {% if celestial_data.mars.element == 'ç«' %}é«˜ã„ç­‹è‚‰ã®ç·Šå¼µã¨æ´»ç™ºãªä»£è¬
                            {% elif celestial_data.mars.element == 'åœ°' %}æŒä¹…åŠ›ã®ã‚ã‚‹ç­‹è‚‰ã¨å®‰å®šã—ãŸã‚¨ãƒãƒ«ã‚®ãƒ¼
                            {% elif celestial_data.mars.element == 'é¢¨' %}å¤‰å‹•çš„ãªä½“åŠ›ã¨ç¥çµŒæ€§ã®ç·Šå¼µ
                            {% else %}æ„Ÿæƒ…ã«ã‚ˆã‚‹ä½“åŠ›ã®å¤‰å‹•ã¨æ°´åˆ†ãƒãƒ©ãƒ³ã‚¹
                            {% endif %}ã«å½±éŸ¿ã—ã¾ã™ã€‚
                        </p>
                    </div>
                </div>

                <!-- å››å…ƒç´ é…åˆ† -->
                <div class="subsection">
                    <h3 class="subsection-title">{{ name }}æ§˜ã®å››å…ƒç´ é…åˆ†</h3>
                    <div class="elements-chart">
                        {% set element_count = {'ç«': 0, 'åœ°': 0, 'é¢¨': 0, 'æ°´': 0} %}
                        {% for planet_name, planet_data in celestial_data.items() %}
                            {% set _ = element_count.update({planet_data.element: element_count[planet_data.element] + 1}) %}
                        {% endfor %}
                        {% for element, count in element_count.items() %}
                        <div class="element-bar">
                            <div class="element-name">{{ element }}</div>
                            <div class="element-progress">
                                <div class="element-fill" style="height: {{ (count / 7 * 100)|int }}%;">
                                    {{ count }}
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <p>
                        ã“ã®å››å…ƒç´ ã®é…åˆ†ã¯ã€ã‚ãªãŸã®ä½“è³ªã¨æ€§æ ¼ã®åŸºæœ¬çš„ãªå‚¾å‘ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                        æœ€ã‚‚å¼·ã„å…ƒç´ ãŒã‚ãªãŸã®ä¸»è¦ãªç‰¹è³ªã‚’å½¢æˆã—ã€
                        ä¸è¶³ã—ã¦ã„ã‚‹å…ƒç´ ã¯æ„è­˜çš„ã«è£œã†å¿…è¦ãŒã‚ã‚‹é ˜åŸŸã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- ç¬¬3ç«  -->
        <section class="chapter-section">
            <div class="chapter-number">ç¬¬3ç« </div>
            <h2 class="chapter-title">å æ˜ŸåŒ»å­¦ã«ã‚ˆã‚‹ä½“è³ªåˆ†æ</h2>
            
            <div class="chapter-content">
                <div class="subsection">
                    <h3 class="subsection-title">å››å…ƒç´ ãƒ»å››ä½“æ¶²èª¬ã«ã‚ˆã‚‹ä½“è³ªç†è§£</h3>
                    <p>
                        å¤ä»£ã‚®ãƒªã‚·ãƒ£ã‹ã‚‰ä¼ã‚ã‚‹å››ä½“æ¶²èª¬ã«ã‚ˆã‚Œã°ã€{{ name }}æ§˜ã®{{ archetype.element_combination }}ã¨ã„ã†çµ„ã¿åˆã‚ã›ã¯ã€
                        {% if 'ç«' in archetype.element_combination %}é»„èƒ†æ±è³ªï¼ˆã‚³ãƒ¬ãƒªãƒƒã‚¯ï¼‰{% endif %}
                        {% if 'åœ°' in archetype.element_combination %}é»’èƒ†æ±è³ªï¼ˆãƒ¡ãƒ©ãƒ³ã‚³ãƒªãƒƒã‚¯ï¼‰{% endif %}
                        {% if 'é¢¨' in archetype.element_combination %}å¤šè¡€è³ªï¼ˆã‚µãƒ³ã‚®ãƒ³ï¼‰{% endif %}
                        {% if 'æ°´' in archetype.element_combination %}ç²˜æ¶²è³ªï¼ˆãƒ•ãƒ¬ã‚°ãƒãƒ†ã‚£ãƒƒã‚¯ï¼‰{% endif %}
                        ã®ç‰¹è³ªãŒè¤‡åˆçš„ã«ç¾ã‚Œã‚‹ä½“è³ªã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                    </p>
                    <p>
                        ã“ã®ä½“è³ªã¯ã€{{ archetype.body_type }}ã¨ã—ã¦åˆ†é¡ã•ã‚Œã€
                        ç‰¹å®šã®èº«ä½“çš„å‚¾å‘ã¨å¥åº·ç®¡ç†ã®å¿…è¦æ€§ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚
                        ä½“æ¶²ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã‚‹ã“ã¨ã§ã€æœ€é©ãªå¥åº·çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
                    </p>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å„ªå‹¢ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã®ç‰¹å¾´</h3>
                    <p>
                        {{ name }}æ§˜ã®ä½“è³ªã«ãŠã„ã¦æœ€ã‚‚å„ªå‹¢ãªå…ƒç´ ã¯ã€
                        {% if celestial_data.sun.element == 'ç«' %}
                        ç«ã®å…ƒç´ ã§ã™ã€‚ã“ã‚Œã¯æ´»ç™ºãªä»£è¬ã€é«˜ã„ä½“æ¸©ã€å¼·ã„æ¶ˆåŒ–åŠ›ã‚’ç¤ºã—ã¾ã™ã€‚
                        ã—ã‹ã—ã€éåº¦ãªç†±ã‚„ç‚ç—‡ã€èˆˆå¥®ã—ã‚„ã™ã•ã«ã‚‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                        {% elif celestial_data.sun.element == 'åœ°' %}
                        åœ°ã®å…ƒç´ ã§ã™ã€‚ã“ã‚Œã¯å®‰å®šã—ãŸä½“è³ªã€è‰¯å¥½ãªéª¨æ ¼ã€æŒä¹…åŠ›ã‚’ç¤ºã—ã¾ã™ã€‚
                        ã—ã‹ã—ã€ä»£è¬ã®é…ã•ã‚„æ¯’ç´ ã®è“„ç©ã«ã‚‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                        {% elif celestial_data.sun.element == 'é¢¨' %}
                        é¢¨ã®å…ƒç´ ã§ã™ã€‚ã“ã‚Œã¯æ´»ç™ºãªç¥çµŒç³»ã€è‰¯å¥½ãªå¾ªç’°ã€æŸ”è»Ÿæ€§ã‚’ç¤ºã—ã¾ã™ã€‚
                        ã—ã‹ã—ã€ç¥çµŒã®ç–²åŠ´ã‚„ä¸è¦å‰‡ãªä½“èª¿ã«ã‚‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                        {% else %}
                        æ°´ã®å…ƒç´ ã§ã™ã€‚ã“ã‚Œã¯å„ªã‚ŒãŸé©å¿œåŠ›ã€è±Šã‹ãªæ„Ÿå—æ€§ã€å›å¾©åŠ›ã‚’ç¤ºã—ã¾ã™ã€‚
                        ã—ã‹ã—ã€æ°´åˆ†ä»£è¬ã®å•é¡Œã‚„æ„Ÿæƒ…ã®å½±éŸ¿ã«ã‚‚æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                        {% endif %}
                    </p>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">å­£ç¯€åˆ¥ä½“èª¿ç®¡ç†</h3>
                    <p>
                        <strong>æ˜¥ï¼š</strong>æ–°ã—ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ãä¸ŠãŒã‚‹å­£ç¯€ã€‚
                        {{ archetype.element_combination }}ã®ä½“è³ªã«ã¯ã€ãƒ‡ãƒˆãƒƒã‚¯ã‚¹ã¨è»½ã„é‹å‹•ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚
                    </p>
                    <p>
                        <strong>å¤ï¼š</strong>ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæœ€é«˜æ½®ã«é”ã™ã‚‹å­£ç¯€ã€‚
                        å†·å´ä½œç”¨ã®ã‚ã‚‹é£Ÿæã¨ååˆ†ãªæ°´åˆ†è£œçµ¦ãŒé‡è¦ã§ã™ã€‚
                    </p>
                    <p>
                        <strong>ç§‹ï¼š</strong>ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå†…å‘ã™ã‚‹å­£ç¯€ã€‚
                        å…ç–«åŠ›ã®å¼·åŒ–ã¨å‘¼å¸å™¨ç³»ã®ã‚±ã‚¢ã«æ³¨æ„ã‚’å‘ã‘ã¾ã—ã‚‡ã†ã€‚
                    </p>
                    <p>
                        <strong>å†¬ï¼š</strong>ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’è“„ãˆã‚‹å­£ç¯€ã€‚
                        æ¸©ã‹ã„é£Ÿäº‹ã¨é©åº¦ãªä¼‘æ¯ã§ä½“åŠ›ã‚’æ¸©å­˜ã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- ç¬¬4ç«  -->
        <section class="chapter-section">
            <div class="chapter-number">ç¬¬4ç« </div>
            <h2 class="chapter-title">çµ±åˆãƒ›ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯å‡¦æ–¹ç®‹</h2>
            
            <div class="chapter-content">
                <p>
                    {{ name }}æ§˜ã®{{ archetype.name }}ä½“è³ªã«åŸºã¥ãã€
                    å¿ƒèº«ã®æœ€é©ãªãƒãƒ©ãƒ³ã‚¹ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã®åŒ…æ‹¬çš„ãªã‚»ãƒ«ãƒ•ã‚±ã‚¢ãƒ—ãƒ©ãƒ³ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚
                </p>

                <!-- å‡¦æ–¹ç®‹1 -->
                <div class="prescription-box">
                    <div class="prescription-title">
                        <span class="prescription-number">1</span>
                        å„ªå‹¢å…ƒç´ ã®èª¿æ•´
                    </div>
                    <div class="prescription-content">
                        <div class="prescription-goal">
                            <strong>ç›®æ¨™ï¼š</strong>
                            {{ celestial_data.sun.element }}ã®å…ƒç´ ã‚’å»ºè¨­çš„ã«æ´»ç”¨ã—ã€éå‰°ã‚’é˜²ã
                        </div>
                        <p>
                            <strong>æ¨å¥¨é£Ÿæï¼š</strong>
                            {% if celestial_data.sun.element == 'ç«' %}
                            å†·æ€§ã®é‡èœï¼ˆãã‚…ã†ã‚Šã€ãƒ¬ã‚¿ã‚¹ã€ãƒˆãƒãƒˆï¼‰ã€ç”˜å‘³ã®ã‚ã‚‹æœç‰©ã€ç·‘èŒ¶
                            {% elif celestial_data.sun.element == 'åœ°' %}
                            æ¸©æ€§ã®é¦™è¾›æ–™ã€æ–°é®®ãªè‘‰ç‰©é‡èœã€æŸ‘æ©˜é¡ã€è»½ã„ç©€ç‰©
                            {% elif celestial_data.sun.element == 'é¢¨' %}
                            æ ¹èœé¡ã€æ¸©ã‹ã„ã‚¹ãƒ¼ãƒ—ã€ãƒŠãƒƒãƒ„é¡ã€ã‚ªã‚¤ãƒ«
                            {% else %}
                            æ¸©æ€§ã®é¦™è¾›æ–™ã€ä¹¾ç‡¥é£Ÿæã€è±†é¡ã€å…¨ç²’ç©€ç‰©
                            {% endif %}
                        </p>
                        <p>
                            <strong>é‹å‹•æ³•ï¼š</strong>
                            {% if celestial_data.sun.element == 'ç«' %}
                            æ°´æ³³ã€ãƒ¨ã‚¬ã€å¤ªæ¥µæ‹³ãªã©ã®å†·å´åŠ¹æœã®ã‚ã‚‹é‹å‹•
                            {% elif celestial_data.sun.element == 'åœ°' %}
                            ãƒ€ãƒ³ã‚¹ã€ã‚¸ãƒ§ã‚®ãƒ³ã‚°ã€ã‚¨ã‚¢ãƒ­ãƒ“ã‚¯ã‚¹ãªã©ã®æ´»ç™ºãªé‹å‹•
                            {% elif celestial_data.sun.element == 'é¢¨' %}
                            ãƒ¨ã‚¬ã€ãƒ”ãƒ©ãƒ†ã‚£ã‚¹ã€ç­‹åŠ›ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãªã©ã®å®‰å®šåŒ–é‹å‹•
                            {% else %}
                            ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã€ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°ã€æ´»ç™ºãªã‚¹ãƒãƒ¼ãƒ„
                            {% endif %}
                        </p>
                    </div>
                </div>

                <!-- å‡¦æ–¹ç®‹2 -->
                <div class="prescription-box">
                    <div class="prescription-title">
                        <span class="prescription-number">2</span>
                        ä¸è¶³å…ƒç´ ã®è£œå¼·
                    </div>
                    <div class="prescription-content">
                        <div class="prescription-goal">
                            <strong>ç›®æ¨™ï¼š</strong>
                            ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã‚‹ãŸã‚ã«ä¸è¶³ã—ã¦ã„ã‚‹å…ƒç´ ã‚’æ„è­˜çš„ã«å–ã‚Šå…¥ã‚Œã‚‹
                        </div>
                        <p>
                            {{ archetype.element_combination }}ã®ä½“è³ªã§ã¯ã€
                            ç‰¹å®šã®å…ƒç´ ãŒä¸è¶³ã—ãŒã¡ã§ã™ã€‚
                            æ—¥å¸¸ç”Ÿæ´»ã«ä»¥ä¸‹ã®è¦ç´ ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã§ã€
                            ã‚ˆã‚Šçµ±åˆã•ã‚ŒãŸãƒãƒ©ãƒ³ã‚¹ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚
                        </p>
                        <p>
                            <strong>å®Ÿè·µæ³•ï¼š</strong>
                            ç’°å¢ƒã€é£Ÿäº‹ã€æ´»å‹•ã€äººé–“é–¢ä¿‚ã«ãŠã„ã¦ã€
                            ä¸è¶³ã—ã¦ã„ã‚‹å…ƒç´ ã®è³ªã‚’æ„è­˜çš„ã«å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚
                            ä¾‹ãˆã°ã€ç«ã®ä¸è¶³ã«ã¯æƒ…ç†±çš„ãªæ´»å‹•ã‚’ã€
                            åœ°ã®ä¸è¶³ã«ã¯è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ã‚’ã€
                            é¢¨ã®ä¸è¶³ã«ã¯çŸ¥çš„ãªåˆºæ¿€ã‚’ã€
                            æ°´ã®ä¸è¶³ã«ã¯æ„Ÿæƒ…çš„ãªç¹‹ãŒã‚Šã‚’é‡è¦–ã—ã¾ã™ã€‚
                        </p>
                    </div>
                </div>

                <!-- ãƒ‡ã‚¤ãƒªãƒ¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ -->
                <div class="daily-routine">
                    <h3 class="subsection-title">{{ archetype.name }}ä½“è³ªå°‚ç”¨ãƒ‡ã‚¤ãƒªãƒ¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³</h3>
                    <div class="routine-timeline">
                        <div class="routine-item">
                            <div class="routine-time">6:00-8:00</div>
                            <div class="routine-content">
                                æœã®è¦šé†’ï¼š{{ archetype.temperament }}ãªæ€§è³ªã‚’æ´»ã‹ã—ã€
                                {% if 'ç«' in archetype.element_combination %}æ´»ç™ºãªæœã®é‹å‹•
                                {% elif 'åœ°' in archetype.element_combination %}ã‚†ã£ãã‚Šã¨ã—ãŸæœé£Ÿ
                                {% elif 'é¢¨' in archetype.element_combination %}ç‘æƒ³ã‚„èª­æ›¸
                                {% else %}é™ã‹ãªå†…çœã®æ™‚é–“
                                {% endif %}ã‹ã‚‰ä¸€æ—¥ã‚’å§‹ã‚ã¾ã™ã€‚
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">9:00-12:00</div>
                            <div class="routine-content">
                                åˆå‰ã®æ´»å‹•ï¼šæœ€ã‚‚é›†ä¸­åŠ›ãŒé«˜ã¾ã‚‹æ™‚é–“å¸¯ã€‚
                                é‡è¦ãªä»•äº‹ã‚„å‰µé€ çš„ãªæ´»å‹•ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">12:00-14:00</div>
                            <div class="routine-content">
                                æ˜¼ã®ä¼‘æ¯ï¼šãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹ã¨çŸ­ã„ä¼‘æ†©ã€‚
                                ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å†å……é›»ã—ã¾ã™ã€‚
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">14:00-18:00</div>
                            <div class="routine-content">
                                åˆå¾Œã®èª¿å’Œï¼šäººã¨ã®äº¤æµã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚
                                å”åŠ›çš„ãªæ´»å‹•ã«é©ã—ãŸæ™‚é–“ã§ã™ã€‚
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">18:00-22:00</div>
                            <div class="routine-content">
                                å¤•æ–¹ã‹ã‚‰å¤œï¼šä¸€æ—¥ã‚’æŒ¯ã‚Šè¿”ã‚Šã€ãƒªãƒ©ãƒƒã‚¯ã‚¹ã€‚
                                ç©ã‚„ã‹ãªæ´»å‹•ã§å¿ƒèº«ã‚’é®é™åŒ–ã•ã›ã¾ã™ã€‚
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬5ç«  -->
        <section class="chapter-section">
            <div class="chapter-number">ç¬¬5ç« </div>
            <h2 class="chapter-title">ç†æƒ³ã®äººç”Ÿè¨­è¨ˆ</h2>
            
            <div class="chapter-content">
                <div class="subsection">
                    <h3 class="subsection-title">ãƒ©ã‚¤ãƒ•ã‚¹ãƒ†ãƒ¼ã‚¸åˆ¥ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹</h3>
                    
                    <h4 style="color: var(--secondary-color); margin: 30px 0 15px;">é’å¹´æœŸã‹ã‚‰æˆäººæœŸå‰åŠï¼ˆ20-35æ­³ï¼‰</h4>
                    <p>
                        ã“ã®æ™‚æœŸã®{{ archetype.name }}ã‚¿ã‚¤ãƒ—ã¯ã€
                        è‡ªå·±ç™ºè¦‹ã¨æ‰èƒ½ã®é–‹èŠ±ã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹ã¹ãæ™‚æœŸã§ã™ã€‚
                        {{ archetype.element_combination }}ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæœ€ã‚‚æ´»ç™ºã«è¡¨ç¾ã•ã‚Œã€
                        æ–°ã—ã„æŒ‘æˆ¦ã¨å®Ÿé¨“ã‚’é€šã˜ã¦è‡ªåˆ†ã®å¯èƒ½æ€§ã‚’æ¢æ±‚ã—ã¾ã™ã€‚
                        å¥åº·é¢ã§ã¯ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®éå‰°æ¶ˆè²»ã«æ³¨æ„ã—ã€
                        é©åˆ‡ãªä¼‘æ¯ã¨ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¤ã“ã¨ãŒé‡è¦ã§ã™ã€‚
                    </p>

                    <h4 style="color: var(--secondary-color); margin: 30px 0 15px;">æˆäººæœŸä¸­ç›¤ï¼ˆ35-50æ­³ï¼‰</h4>
                    <p>
                        å°‚é–€æ€§ã®ç¢ºç«‹ã¨ç¤¾ä¼šçš„è²¢çŒ®ãŒä¸»è¦ãƒ†ãƒ¼ãƒã¨ãªã‚‹æ™‚æœŸã€‚
                        {{ archetype.talents }}ã‚’æœ€å¤§é™ã«æ´»ã‹ã—ã€
                        ã‚­ãƒ£ãƒªã‚¢ã‚„äººé–“é–¢ä¿‚ã«ãŠã„ã¦ä¸­å¿ƒçš„ãªå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚
                        ä½“è³ªçš„ã«ã¯ä»£è¬ã®å¤‰åŒ–ã«æ³¨æ„ã—ã€
                        ç”Ÿæ´»ç¿’æ…£ã®è¦‹ç›´ã—ãŒå¿…è¦ã«ãªã‚‹æ™‚æœŸã§ã‚‚ã‚ã‚Šã¾ã™ã€‚
                    </p>

                    <h4 style="color: var(--secondary-color); margin: 30px 0 15px;">æˆç†ŸæœŸï¼ˆ50-65æ­³ï¼‰</h4>
                    <p>
                        æ™ºæ…§ã®æ·±åŒ–ã¨æ¬¡ä¸–ä»£ã¸ã®ä¼æ‰¿ãŒé‡è¦ã¨ãªã‚‹æ™‚æœŸã€‚
                        {{ archetype.temperament }}ãªæ€§è³ªãŒå††ç†Ÿã—ã€
                        ã‚ˆã‚Šæ·±ã„æ´å¯Ÿã¨ç†è§£ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚
                        å¥åº·ç®¡ç†ã§ã¯äºˆé˜²åŒ»å­¦çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒé‡è¦ã«ãªã‚Šã€
                        å®šæœŸçš„ãªãƒã‚§ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ç”Ÿæ´»ã®è³ªã®å‘ä¸Šã«ç„¦ç‚¹ã‚’å½“ã¦ã¾ã™ã€‚
                    </p>

                    <h4 style="color: var(--secondary-color); margin: 30px 0 15px;">å††ç†ŸæœŸï¼ˆ65æ­³ä»¥é™ï¼‰</h4>
                    <p>
                        äººç”Ÿã®çµ±åˆã¨ç²¾ç¥çš„ãªå®Œæˆã‚’ç›®æŒ‡ã™æ™‚æœŸã€‚
                        {{ archetype.name }}ã¨ã—ã¦ã®ä½¿å‘½ã‚’å®Œå…¨ã«ç†è§£ã—ã€
                        ãã®å¡æ™ºã‚’å‘¨å›²ã¨åˆ†ã‹ã¡åˆã„ã¾ã™ã€‚
                        èº«ä½“çš„ã«ã¯ç©ã‚„ã‹ãªæ´»å‹•ã¨ç²¾ç¥çš„ãªå……å®Ÿã‚’é‡è¦–ã—ã€
                        è³ªã®é«˜ã„äººç”Ÿã‚’ç¶­æŒã™ã‚‹ã“ã¨ã«æ³¨åŠ›ã—ã¾ã™ã€‚
                    </p>
                </div>

                <div class="subsection">
                    <h3 class="subsection-title">{{ archetype.name }}ã¨ã—ã¦ã®ä½¿å‘½</h3>
                    <p style="font-size: 1.2em; line-height: 2; margin-top: 30px;">
                        {{ name }}æ§˜ã€ã‚ãªãŸã¯{{ archetype.name }}ã¨ã—ã¦ã€
                        ã“ã®ä¸–ç•Œã«ç‰¹åˆ¥ãªè´ˆã‚Šç‰©ã‚’ã‚‚ãŸã‚‰ã™ãŸã‚ã«ç”Ÿã¾ã‚Œã¦ãã¾ã—ãŸã€‚
                        {{ archetype.core }}
                    </p>
                    <p style="font-size: 1.2em; line-height: 2;">
                        ã‚ãªãŸã®{{ archetype.element_combination }}ã¨ã„ã†çµ„ã¿åˆã‚ã›ã¯ã€
                        å˜ãªã‚‹å¶ç„¶ã§ã¯ãªãã€å®‡å®™ãŒã‚ãªãŸã«ä¸ãˆãŸç‹¬è‡ªã®ä½¿å‘½ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚
                        {{ archetype.talents }}ã“ã‚Œã‚‰ã®æ‰èƒ½ã‚’é€šã˜ã¦ã€
                        ã‚ãªãŸã¯å‘¨å›²ã®äººã€…ã¨ä¸–ç•Œã«ç‹¬è‡ªã®è²¢çŒ®ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã™ã€‚
                    </p>
                    <p style="font-size: 1.2em; line-height: 2;">
                        äººç”Ÿã®æ—…è·¯ã«ãŠã„ã¦ã€{{ archetype.challenges }}ã¨ã„ã†èª²é¡Œã«ç›´é¢ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚
                        ã—ã‹ã—ã€ã“ã‚Œã‚‰ã®èª²é¡Œã“ããŒã€ã‚ãªãŸã‚’ã‚ˆã‚Šå®Œå…¨ãªå­˜åœ¨ã¸ã¨æˆé•·ã•ã›ã‚‹æ©Ÿä¼šãªã®ã§ã™ã€‚
                        æŒ‘æˆ¦ã‚’æã‚Œãšã€è‡ªåˆ†ã®æœ¬è³ªã‚’ä¿¡ã˜ã¦å‰é€²ã—ã¦ãã ã•ã„ã€‚
                    </p>
                    <p style="font-size: 1.3em; line-height: 2; margin-top: 40px; text-align: center; color: var(--accent-color);">
                        ã‚ãªãŸã®äººç”Ÿã¯ã€{{ archetype.tagline }}ã¨ã„ã†
                        å£®å¤§ãªãƒ†ãƒ¼ãƒã‚’ä½“ç¾ã™ã‚‹ç´ æ™´ã‚‰ã—ã„æ—…ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="report-footer">
            <div class="footer-message">
                <p>
                    ã“ã®ãƒ¬ãƒãƒ¼ãƒˆã¯ã€{{ name }}æ§˜ã®å‡ºç”Ÿæ™‚ã®å¤©ä½“é…ç½®ã«åŸºã¥ã
                    å æ˜ŸåŒ»å­¦çš„åˆ†æã§ã™ã€‚
                </p>
                <p style="margin-top: 20px;">
                    ã‚ãªãŸã®é­‚ã®é’å†™çœŸã‚’ç†è§£ã—ã€
                    ã‚ˆã‚Šå……å®Ÿã—ãŸäººç”Ÿã‚’é€ã‚‹ãŸã‚ã®æŒ‡é‡ã¨ã—ã¦
                    ã”æ´»ç”¨ãã ã•ã„ã€‚
                </p>
                <p style="margin-top: 30px; font-size: 0.9em; opacity: 0.8;">
                    ï½ ASTRO-BODY TYPE REPORT ï½<br>
                    Generated with cosmic wisdom and love
                </p>
            </div>
        </footer>
    </div>
</body>
</html>